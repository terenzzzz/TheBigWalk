%br
.row 
    .col
        -if @linker
            .d-flex.justify-content-center
                %h1{class: "fw-bold"} LET'S GO! 
            .d-flex.justify-content-center
                %h2{class: "fw-bold"} The event has begun! 
            %br
            .d-flex.justify-content-center
                %h4{class: "fw-bold"} Your next checkpoint:
            .d-flex.justify-content-center
                %h1{class: "fw-bold"}= @checkpoint.name
        -else
            .d-flex.justify-content-center
                %h1 Congratulations
            .d-flex.justify-content-center
                %h2 You Finished The Event
        %br/
        %br/


.d-grid.gap-2
    .d-flex.justify-content-center
        .p#out
    = render"getLatLong"
    -# =link_to "Check In", check_in_walkers_path, class: 'btn btn-primary primary-button'
    -# =link_to "Check In Failed", check_in_fail_walkers_path, class: 'btn btn-primary primary-button'
    =link_to "Check Point Information", checkpoint_info_walkers_path, class: 'btn btn-primary primary-button'
    =link_to "Leaderboard", leaderboard_pages_path, class: 'btn btn-primary primary-button'
    =link_to "Request Help", help_walkers_path, class: 'btn btn-primary primary-button'


:javascript
    geoFindMe()
    function geoFindMe() {
    var output = document.getElementById("out");
    var latitude;
    var longitude;

    function success(position) {
        latitude  = position.coords.latitude.toFixed(6);
        longitude = position.coords.longitude.toFixed(6);

        lat = document.getElementById("lat");
        lon = document.getElementById("lon");
        lat.value = latitude;
        lon.value = longitude;

        output.innerHTML = '<p>Latitude is ' + latitude + '° <br>Longitude is ' + longitude + '°</p>';
        // window.initMap = initMap();

    };

    function error() {
        output.innerHTML = "Unable to find position.";
    };
    output.innerHTML = "<p>Finding Your Current Location…</p>";
    navigator.geolocation.getCurrentPosition(success, error);
    }