%h1 User Leaderboard


%table
%tbody
  %tr
    %td Participant
    %td Last Checkpoint
    %td Time to Last Checkpoint
    /%td= user.name
- @current_user_id = session[:current_user_id]
- @current_event = session[:current_event_id]
- @walker = Participant.where(users_id: @current_user_id).first
- @checkpoints = Checkpoint.where(id: @walker.checkpoints_id)
  %tr
    / \/ Link to "checkpoint.name where ({current event id && current user id} && {datetime is largest})
    - @current_user = User.where(id: @current_user_id).first
    /- @user_tag = TagsUser.where(user_id: @current_user.id).first
    /- @tag = Tag.where(id: @current_user.tag_id).first
    /- if @tag.name == "Walker" 
      /%td= link_to "#{user.name}", single_user_leaderboard_pages_path
      %td=@checkpoint.name
      / \/ link to "checkpoint.time where ({current event id && current user id} && {datetime is largest})
      %td 1:01:23

/CheckpointTimes (therefore @userTimes) contains checkpoint id and user id, as well as the datetime of the user for each checkpoint they get to
- @userTimes = CheckpointTimes.where(participant_id: @current_user_id)
- @userTimes.each do |t|
  - @user_checkpoint_names = Checkpoint 
  - @current_checkpoint_id = t.checkpoint_id
  - @current_checkpoint_name = 
  %tr
    %td=t.times
      




%table
%tbody
  %tr
    %td Participant
    %td Last Checkpoint
    %td Time to Last Checkpoint
    /%td= user.name
- @current_user_id = session[:current_user_id]
- @current_event = session[:current_event_id]
/@walker = Participant.where(users_id: @current_user_id, ).first
      - @checkpoint = Checkpoint.where(id: @walker.checkpoints_id).first
/- @users.each do |user| 
  %tr
    / \/ Link to "checkpoint.name where ({current event id && current user id} && {datetime is largest})
    - @current_user = User.where(id: @current_user_id).first
    /- @user_tag = TagsUser.where(user_id: @current_user.id).first
    /- @tag = Tag.where(id: @current_user.tag_id).first
    /- if @tag.name == "Walker" 
      /%td= link_to "#{user.name}", single_user_leaderboard_pages_path
      %td=@checkpoint.name
      / \/ link to "checkpoint.time where ({current event id && current user id} && {datetime is largest})
      %td 1:01:23


For the current event id (Checkpoint.where(event_id: @current_event_id)), display the names of each checkpoint

get the route id, then the checkpoint id from the route id (sam4e table).
Use the checkpoint id to find the checkpoint name in the checkpoints table
